<!DOCTYPE html>
<html lang="pt-BR" class="antialiased">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO & Identidade Vinícius Arruda -->
    <title>Econovida | Por Vinícius Arruda</title>
    <meta name="description" content="Laboratório de modelagem econômica interativa desenvolvido por Vinícius Arruda. Simulações de micro e macroeconomia, equações de Mincer, Risco e IA.">
    <meta name="author" content="Vinícius Lins de Souza Arruda">
    <meta name="keywords" content="Vinícius Arruda, Economia, Python, Econovida, Simulação Econômica, Programação, Data Science, Corecon MS">
    <meta name="copyright" content="Vinícius Lins de Souza Arruda">
    
    <!-- Open Graph (Para redes sociais) -->
    <meta property="og:title" content="Econovida | Laboratório Econômico de Vinícius Arruda">
    <meta property="og:description" content="Simuladores interativos de teoria econômica desenvolvidos por Vinícius Arruda.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://viniciuslinsdsa.github.io/">

    <!-- Schema.org - Dados Estruturados para o Google reconhecer a entidade -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Vinícius Lins de Souza Arruda",
      "alternateName": "Vinícius Arruda",
      "url": "https://viniciuslinsdsa.github.io/",
      "jobTitle": "Economista e Desenvolvedor",
      "knowsAbout": ["Economia", "Python", "Inteligência Artificial", "Escrita Criativa"],
      "alumniOf": "Universidade Federal de Mato Grosso do Sul"
    }
    </script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- MathJax -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            600: '#0284c7', // Primary Blue
                            900: '#0c4a6e',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #FAFAFA; color: #1e293b; }
        h1, h2, h3 { letter-spacing: -0.02em; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        input[type=range] { -webkit-appearance: none; appearance: none; width: 100%; background: transparent; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; height: 16px; width: 16px; border-radius: 50%; background: #ffffff; border: 1px solid #cbd5e1; box-shadow: 0 2px 4px rgba(0,0,0,0.1); cursor: pointer; margin-top: -6px; transition: all 0.2s ease; }
        input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.1); border-color: #94a3b8; }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; cursor: pointer; background: #e2e8f0; border-radius: 2px; }
        canvas { -moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none; }
        .page-section { display: none; animation: fadeIn 0.4s ease-out; }
        .page-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .nav-link { transition: all 0.2s; border-left: 3px solid transparent; }
        .nav-link:hover { background-color: #f1f5f9; color: #0f172a; }
        .nav-link.active { background-color: #f8fafc; color: #0f172a; border-left-color: #0f172a; font-weight: 500; }
        .nav-link.active i { color: #0f172a; font-weight: bold; }
        #mobile-menu { transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .menu-open { transform: translateX(0) !important; }
        mjx-container { font-size: 110% !important; color: #334155; }
    </style>
</head>
<body class="flex flex-col md:flex-row h-screen overflow-hidden">

    <!-- MOBILE HEADER -->
    <header class="md:hidden bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center z-50">
        <div class="flex items-center gap-2 text-slate-900">
            <i class="ph ph-trend-up text-xl"></i>
            <span class="font-serif font-bold text-lg">Econovida</span>
        </div>
        <button onclick="toggleMobileMenu()" class="text-slate-500 hover:text-slate-900">
            <i class="ph ph-list text-2xl"></i>
        </button>
    </header>

    <!-- SIDEBAR -->
    <aside id="mobile-menu" class="fixed inset-y-0 left-0 w-72 bg-white border-r border-slate-200 z-40 transform -translate-x-full md:translate-x-0 md:static flex flex-col justify-between shadow-2xl md:shadow-none">
        <div>
            <div class="p-8 pb-4 hidden md:block">
                <div class="flex items-center gap-2 text-slate-900 mb-1">
                    <i class="ph-fill ph-trend-up text-xl text-brand-600"></i>
                    <span class="font-serif font-bold text-xl tracking-tight">Econovida</span>
                </div>
                <p class="text-xs text-slate-400 font-medium pl-7">Por Vinícius Arruda</p>
            </div>
            
            <nav class="mt-6 px-4 space-y-1">
                <button id="btn-home" class="nav-link w-full flex items-center gap-3 px-4 py-3 text-sm text-slate-500 rounded-r-lg active" onclick="router('home')">
                    <i class="ph ph-squares-four text-lg"></i> Início
                </button>
                
                <!-- Link do Autor Atualizado -->
                <a href="https://viniciuslinsdsa.github.io/" target="_blank" class="nav-link w-full flex items-center gap-3 px-4 py-3 text-sm text-slate-500 rounded-r-lg hover:text-brand-600">
                    <i class="ph ph-user-circle text-lg"></i> Vinícius Arruda
                </a>

                <div class="px-4 pt-6 pb-2">
                    <span class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">Simulações</span>
                </div>

                <button id="btn-violence" class="nav-link w-full flex items-center gap-3 px-4 py-2.5 text-sm text-slate-500 rounded-r-lg" onclick="router('violence')">
                    <i class="ph ph-shield-warning text-lg"></i> Risco & Violência
                </button>
                
                <button id="btn-education" class="nav-link w-full flex items-center gap-3 px-4 py-2.5 text-sm text-slate-500 rounded-r-lg" onclick="router('education')">
                    <i class="ph ph-graduation-cap text-lg"></i> Capital Humano
                </button>

                <button id="btn-environment" class="nav-link w-full flex items-center gap-3 px-4 py-2.5 text-sm text-slate-500 rounded-r-lg" onclick="router('environment')">
                    <i class="ph ph-leaf text-lg"></i> Externalidades
                </button>

                <button id="btn-health" class="nav-link w-full flex items-center gap-3 px-4 py-2.5 text-sm text-slate-500 rounded-r-lg" onclick="router('health')">
                    <i class="ph ph-heartbeat text-lg"></i> Modelo de Grossman
                </button>

                <button id="btn-culture" class="nav-link w-full flex items-center gap-3 px-4 py-2.5 text-sm text-slate-500 rounded-r-lg" onclick="router('culture')">
                    <i class="ph ph-paint-brush-broad text-lg"></i> Doença de Custos
                </button>

                <button id="btn-ai" class="nav-link w-full flex items-center gap-3 px-4 py-2.5 text-sm text-slate-500 rounded-r-lg" onclick="router('ai')">
                    <i class="ph ph-robot text-lg"></i> Economia da IA
                </button>
            </nav>
        </div>

        <!-- Sidebar Context Widget -->
        <div class="p-4 border-t border-slate-100 bg-slate-50/50">
            <div id="sidebar-context" class="text-xs text-slate-500">
                <!-- Dynamic Content -->
            </div>
        </div>
    </aside>

    <!-- OVERLAY (Mobile) -->
    <div id="menu-overlay" onclick="toggleMobileMenu()" class="fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-30 hidden md:hidden"></div>

    <!-- MAIN CONTENT -->
    <main class="flex-1 overflow-y-auto bg-[#FAFAFA] relative">
        <div class="max-w-5xl mx-auto px-6 py-8 md:py-12 min-h-[90vh] flex flex-col">
            
            <!-- HOME PAGE -->
            <section id="page-home" class="page-section active flex-grow">
                <div class="mb-12">
                    <h2 class="font-serif text-3xl md:text-4xl text-slate-900 mb-4">Modelagem Econômica Aplicada</h2>
                    <p class="text-slate-600 max-w-2xl leading-relaxed font-light">
                        Ferramentas interativas para visualização de teoria micro e macroeconômica. Selecione um modelo para explorar o impacto de variáveis em tempo real.
                    </p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Cards -->
                    <div onclick="router('violence')" class="group bg-white p-6 rounded-xl border border-slate-200 hover:border-slate-300 hover:shadow-lg transition-all cursor-pointer relative overflow-hidden">
                        <div class="flex justify-between items-start mb-4">
                            <div class="bg-red-50 text-red-700 p-2 rounded-lg group-hover:bg-red-100 transition-colors">
                                <i class="ph ph-shield-warning text-xl"></i>
                            </div>
                            <i class="ph ph-arrow-right text-slate-300 group-hover:text-slate-600 transition-colors"></i>
                        </div>
                        <h3 class="font-medium text-slate-900 mb-1">Economia do Crime</h3>
                        <p class="text-sm text-slate-500">Modelo de Rosen: incerteza e horizonte de planejamento.</p>
                    </div>

                    <div onclick="router('education')" class="group bg-white p-6 rounded-xl border border-slate-200 hover:border-slate-300 hover:shadow-lg transition-all cursor-pointer">
                        <div class="flex justify-between items-start mb-4">
                            <div class="bg-emerald-50 text-emerald-700 p-2 rounded-lg group-hover:bg-emerald-100 transition-colors">
                                <i class="ph ph-graduation-cap text-xl"></i>
                            </div>
                            <i class="ph ph-arrow-right text-slate-300 group-hover:text-slate-600 transition-colors"></i>
                        </div>
                        <h3 class="font-medium text-slate-900 mb-1">Equação de Mincer</h3>
                        <p class="text-sm text-slate-500">Retornos da escolaridade e experiência no mercado.</p>
                    </div>

                    <div onclick="router('environment')" class="group bg-white p-6 rounded-xl border border-slate-200 hover:border-slate-300 hover:shadow-lg transition-all cursor-pointer">
                        <div class="flex justify-between items-start mb-4">
                            <div class="bg-teal-50 text-teal-700 p-2 rounded-lg group-hover:bg-teal-100 transition-colors">
                                <i class="ph ph-leaf text-xl"></i>
                            </div>
                            <i class="ph ph-arrow-right text-slate-300 group-hover:text-slate-600 transition-colors"></i>
                        </div>
                        <h3 class="font-medium text-slate-900 mb-1">Imposto Pigouviano</h3>
                        <p class="text-sm text-slate-500">Internalização de externalidades negativas.</p>
                    </div>

                    <div onclick="router('health')" class="group bg-white p-6 rounded-xl border border-slate-200 hover:border-slate-300 hover:shadow-lg transition-all cursor-pointer">
                        <div class="flex justify-between items-start mb-4">
                            <div class="bg-cyan-50 text-cyan-700 p-2 rounded-lg group-hover:bg-cyan-100 transition-colors">
                                <i class="ph ph-heartbeat text-xl"></i>
                            </div>
                            <i class="ph ph-arrow-right text-slate-300 group-hover:text-slate-600 transition-colors"></i>
                        </div>
                        <h3 class="font-medium text-slate-900 mb-1">Capital Saúde</h3>
                        <p class="text-sm text-slate-500">Modelo de Grossman: saúde como estoque de capital.</p>
                    </div>

                    <div onclick="router('culture')" class="group bg-white p-6 rounded-xl border border-slate-200 hover:border-slate-300 hover:shadow-lg transition-all cursor-pointer">
                        <div class="flex justify-between items-start mb-4">
                            <div class="bg-violet-50 text-violet-700 p-2 rounded-lg group-hover:bg-violet-100 transition-colors">
                                <i class="ph ph-paint-brush-broad text-xl"></i>
                            </div>
                            <i class="ph ph-arrow-right text-slate-300 group-hover:text-slate-600 transition-colors"></i>
                        </div>
                        <h3 class="font-medium text-slate-900 mb-1">Lei de Baumol</h3>
                        <p class="text-sm text-slate-500">A doença de custos em setores de baixa produtividade.</p>
                    </div>

                    <div onclick="router('ai')" class="group bg-white p-6 rounded-xl border border-slate-200 hover:border-slate-300 hover:shadow-lg transition-all cursor-pointer">
                        <div class="flex justify-between items-start mb-4">
                            <div class="bg-amber-50 text-amber-700 p-2 rounded-lg group-hover:bg-amber-100 transition-colors">
                                <i class="ph ph-robot text-xl"></i>
                            </div>
                            <i class="ph ph-arrow-right text-slate-300 group-hover:text-slate-600 transition-colors"></i>
                        </div>
                        <h3 class="font-medium text-slate-900 mb-1">Automação & Trabalho</h3>
                        <p class="text-sm text-slate-500">Efeitos deslocamento vs. produtividade (Acemoglu).</p>
                    </div>
                </div>
            </section>

            <!-- PÁGINA: VIOLÊNCIA -->
            <section id="page-violence" class="page-section">
                <header class="mb-10 border-b border-slate-200 pb-6">
                    <span class="text-xs font-bold tracking-widest text-slate-400 uppercase mb-2 block">Macroeconomia</span>
                    <h2 class="font-serif text-3xl text-slate-900">O Custo Oculto da Violência</h2>
                    <p class="text-slate-600 mt-2 font-light">Análise do impacto da incerteza sobre a preferência temporal e poupança.</p>
                </header>
                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-1 space-y-6">
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                            <h3 class="text-sm font-semibold text-slate-900 mb-6 flex items-center gap-2"><i class="ph ph-sliders"></i> Variáveis</h3>
                            <div class="mb-6">
                                <label class="flex justify-between text-xs font-medium text-slate-500 mb-2">Percepção de Risco (v) <span id="viol-val" class="text-slate-900">Médio</span></label>
                                <input type="range" min="0" max="100" value="50" id="viol-slider">
                            </div>
                            <div>
                                <label class="flex justify-between text-xs font-medium text-slate-500 mb-2">Renda Mensal (y) <span id="viol-income-val" class="text-slate-900">R$ 3.000</span></label>
                                <input type="range" min="1500" max="10000" step="100" value="3000" id="viol-income-slider">
                            </div>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-lg border border-slate-200">
                            <div class="flex justify-between items-center mb-3"><span class="text-xs text-slate-500 font-medium">Poupança Agregada</span><span id="viol-savings" class="text-sm font-bold text-slate-900">--</span></div>
                            <div class="flex justify-between items-center border-t border-slate-200 pt-3"><span class="text-xs text-slate-500 font-medium">Impacto no PIB</span><span id="viol-welfare" class="text-sm font-bold text-red-600">--</span></div>
                        </div>
                        <div class="p-4 rounded-lg bg-white border border-slate-100 text-xs text-slate-500">
                            <span class="block mb-2 font-semibold text-slate-700">Função de Utilidade (Rosen, 1988)</span>
                            <div class="overflow-x-auto py-2">$$ U(a) = \sum \beta^{t} \cdot S(t) \cdot u(c_t) $$</div>
                        </div>
                    </div>
                    <div class="lg:col-span-2">
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm h-96 relative"><canvas id="violenceChart"></canvas></div>
                        <p class="text-[10px] text-slate-400 mt-2 text-right">Fonte: Simulação baseada em dados paramétricos.</p>
                    </div>
                </div>
            </section>

            <!-- PÁGINA: EDUCAÇÃO -->
            <section id="page-education" class="page-section">
                <header class="mb-10 border-b border-slate-200 pb-6">
                    <span class="text-xs font-bold tracking-widest text-slate-400 uppercase mb-2 block">Economia do Trabalho</span>
                    <h2 class="font-serif text-3xl text-slate-900">Equação de Mincer</h2>
                    <p class="text-slate-600 mt-2 font-light">Decomposição do salário em função da escolaridade e experiência quadrática.</p>
                </header>
                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-1 space-y-6">
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                            <h3 class="text-sm font-semibold text-slate-900 mb-6 flex items-center gap-2"><i class="ph ph-sliders"></i> Parâmetros</h3>
                            <div class="mb-6">
                                <label class="flex justify-between text-xs font-medium text-slate-500 mb-2">Anos de Estudo (S) <span id="edu-s-val" class="text-slate-900">12 anos</span></label>
                                <input type="range" min="0" max="25" value="12" id="edu-s-slider">
                            </div>
                            <div>
                                <label class="flex justify-between text-xs font-medium text-slate-500 mb-2">Taxa de Retorno (&rho;) <span id="edu-rho-val" class="text-slate-900">10%</span></label>
                                <input type="range" min="1" max="20" value="10" id="edu-rho-slider">
                            </div>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-lg border border-slate-200 text-center">
                            <span class="text-xs text-slate-500 uppercase tracking-wide">Salário de Pico (50 anos)</span>
                            <div id="edu-peak-salary" class="text-2xl font-serif font-bold text-emerald-700 mt-2">--</div>
                        </div>
                        <div class="p-4 rounded-lg bg-white border border-slate-100 text-xs text-slate-500">
                             <div class="overflow-x-auto">$$ \ln(w) = \ln(w_0) + \rho S + \beta_1 X - \beta_2 X^2 $$</div>
                        </div>
                    </div>
                    <div class="lg:col-span-2">
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm h-96 relative"><canvas id="educationChart"></canvas></div>
                    </div>
                </div>
            </section>

            <!-- PÁGINA: MEIO AMBIENTE -->
            <section id="page-environment" class="page-section">
                <header class="mb-10 border-b border-slate-200 pb-6">
                    <span class="text-xs font-bold tracking-widest text-slate-400 uppercase mb-2 block">Microeconomia</span>
                    <h2 class="font-serif text-3xl text-slate-900">Falha de Mercado: Poluição</h2>
                    <p class="text-slate-600 mt-2 font-light">Convergência entre custo privado e social via tarifação (Pigou).</p>
                </header>
                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-1 space-y-6">
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                            <h3 class="text-sm font-semibold text-slate-900 mb-6 flex items-center gap-2"><i class="ph ph-sliders"></i> Ajustes</h3>
                            <div class="mb-6">
                                <label class="flex justify-between text-xs font-medium text-slate-500 mb-2">Dano Social Marginal <span id="env-damage-val" class="text-slate-900">R$ 50</span></label>
                                <input type="range" min="10" max="100" value="50" step="10" id="env-damage-slider">
                            </div>
                            <div>
                                <label class="flex justify-between text-xs font-medium text-slate-500 mb-2">Imposto (Taxa Pigouviana) <span id="env-tax-val" class="text-slate-900">R$ 0</span></label>
                                <input type="range" min="0" max="100" value="0" id="env-tax-slider">
                            </div>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-lg border border-slate-200">
                            <span class="text-xs text-slate-500 uppercase tracking-wide">Status do Equilíbrio</span>
                            <div id="env-status" class="text-lg font-bold text-slate-900 mt-1">--</div>
                            <p id="env-status-desc" class="text-xs text-slate-500 mt-1 italic">--</p>
                        </div>
                    </div>
                    <div class="lg:col-span-2">
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm h-96 relative"><canvas id="envChart"></canvas></div>
                    </div>
                </div>
            </section>

            <!-- PÁGINA: SAÚDE -->
            <section id="page-health" class="page-section">
                <header class="mb-10 border-b border-slate-200 pb-6">
                    <span class="text-xs font-bold tracking-widest text-slate-400 uppercase mb-2 block">Economia da Saúde</span>
                    <h2 class="font-serif text-3xl text-slate-900">Modelo de Grossman</h2>
                    <p class="text-slate-600 mt-2 font-light">Saúde como bem de investimento sujeito à depreciação biológica.</p>
                </header>
                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-1 space-y-6">
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                            <h3 class="text-sm font-semibold text-slate-900 mb-6">Parâmetros do Indivíduo</h3>
                            <div class="mb-6">
                                <label class="flex justify-between text-xs font-medium text-slate-500 mb-2">Salário (W) <span id="health-wage-val" class="text-slate-900">Médio</span></label>
                                <input type="range" min="10" max="100" value="40" id="health-wage-slider">
                            </div>
                            <div>
                                <label class="flex justify-between text-xs font-medium text-slate-500 mb-2">Idade (&delta; depreciação) <span id="health-age-val" class="text-slate-900">40 anos</span></label>
                                <input type="range" min="20" max="90" step="5" value="40" id="health-age-slider">
                            </div>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-lg border border-slate-200 text-center">
                            <span class="text-xs text-slate-500 uppercase tracking-wide">Estoque Ótimo (H*)</span>
                            <div id="health-optimal" class="text-2xl font-serif font-bold text-cyan-700 mt-2">--</div>
                        </div>
                         <div class="p-4 rounded-lg bg-white border border-slate-100 text-xs text-slate-500">
                             <div class="overflow-x-auto">$$ MEC = \frac{W \cdot MP_h}{C} = r + \delta $$</div>
                        </div>
                    </div>
                    <div class="lg:col-span-2">
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm h-96 relative"><canvas id="healthChart"></canvas></div>
                    </div>
                </div>
            </section>

            <!-- PÁGINA: CULTURA -->
            <section id="page-culture" class="page-section">
                <header class="mb-10 border-b border-slate-200 pb-6">
                    <span class="text-xs font-bold tracking-widest text-slate-400 uppercase mb-2 block">Economia dos Serviços</span>
                    <h2 class="font-serif text-3xl text-slate-900">Doença de Custos (Baumol)</h2>
                    <p class="text-slate-600 mt-2 font-light">Disparidade de produtividade entre setores progressivos e estagnados.</p>
                </header>
                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-1 space-y-6">
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                            <h3 class="text-sm font-semibold text-slate-900 mb-6">Diferencial de Produtividade</h3>
                            <div class="mb-6">
                                <label class="flex justify-between text-xs font-medium text-slate-500 mb-2">Crescimento Industrial <span id="cult-prod-val" class="text-slate-900">2% a.a.</span></label>
                                <input type="range" min="0" max="10" value="2" step="0.5" id="cult-prod-slider">
                            </div>
                            <div>
                                <label class="flex justify-between text-xs font-medium text-slate-500 mb-2">Elasticidade Preço (&epsilon;) <span id="cult-elast-val" class="text-slate-900">0.5</span></label>
                                <input type="range" min="0.1" max="2.0" step="0.1" value="0.5" id="cult-elast-slider">
                            </div>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-lg border border-slate-200">
                            <span class="text-xs text-slate-500 uppercase tracking-wide">Custo Relativo (50 anos)</span>
                            <div id="cult-gap" class="text-xl font-bold text-violet-700 mt-1">--</div>
                            <div id="cult-revenue" class="text-xs font-medium mt-2">--</div>
                        </div>
                    </div>
                    <div class="lg:col-span-2">
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm h-96 relative"><canvas id="cultureChart"></canvas></div>
                    </div>
                </div>
            </section>

            <!-- PÁGINA: IA -->
            <section id="page-ai" class="page-section">
                <header class="mb-10 border-b border-slate-200 pb-6">
                    <span class="text-xs font-bold tracking-widest text-slate-400 uppercase mb-2 block">Inovação e Crescimento</span>
                    <h2 class="font-serif text-3xl text-slate-900">Inteligência Artificial e Trabalho</h2>
                    <p class="text-slate-600 mt-2 font-light">A batalha entre o efeito deslocamento (substituição) e o efeito produtividade.</p>
                </header>
                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-1 space-y-6">
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm">
                            <h3 class="text-sm font-semibold text-slate-900 mb-6">Forças em Jogo</h3>
                            <div class="mb-6">
                                <label class="flex justify-between text-xs font-medium text-slate-500 mb-2">Automação (Substituição) <span id="ai-auto-val" class="text-slate-900">Média</span></label>
                                <input type="range" min="0" max="100" value="50" id="ai-auto-slider">
                            </div>
                            <div>
                                <label class="flex justify-between text-xs font-medium text-slate-500 mb-2">Ganhos de Produtividade <span id="ai-prod-val" class="text-slate-900">Alto</span></label>
                                <input type="range" min="0" max="100" value="60" id="ai-prod-slider">
                            </div>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-lg border border-slate-200 text-center">
                            <span class="text-xs text-slate-500 uppercase tracking-wide">Saldo Líquido (Demanda L)</span>
                            <div id="ai-result" class="text-2xl font-serif font-bold text-amber-600 mt-2">--</div>
                        </div>
                         <div class="p-4 rounded-lg bg-white border border-slate-100 text-xs text-slate-500">
                             <div class="overflow-x-auto">$$ \Delta L = Produtividade - Deslocamento $$</div>
                        </div>
                    </div>
                    <div class="lg:col-span-2">
                        <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm h-96 relative"><canvas id="aiChart"></canvas></div>
                    </div>
                </div>
            </section>
            
            <!-- RODAPÉ ATUALIZADO -->
            <footer class="mt-12 pt-8 border-t border-slate-200 text-center pb-8">
                <p class="text-sm text-slate-500">
                    &copy; 2025 <a href="https://viniciuslinsdsa.github.io/" class="hover:text-brand-600 transition-colors">Vinícius Arruda</a>. Todos os direitos reservados para Vinícius Lins de Souza Arruda.
                </p>
                <p class="text-xs text-slate-400 mt-1">
                    Simulador Econômico Desenvolvido com Python & JavaScript.
                </p>
            </footer>

        </div>
    </main>

    <script>
        // --- LOGIC PRESERVATION (UI UPDATES) ---
        function router(pageId) {
            document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));
            
            const targetPage = document.getElementById(`page-${pageId}`);
            const targetBtn = document.getElementById(`btn-${pageId}`);
            
            if (targetPage) targetPage.classList.add('active');
            if (targetBtn) targetBtn.classList.add('active');

            const menu = document.getElementById('mobile-menu');
            const overlay = document.getElementById('menu-overlay');
            if (menu.classList.contains('menu-open')) {
                menu.classList.remove('menu-open');
                overlay.classList.add('hidden');
            }
            updateSidebarContext(pageId);
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const overlay = document.getElementById('menu-overlay');
            menu.classList.toggle('menu-open');
            overlay.classList.toggle('hidden');
        }

        function updateSidebarContext(pageId) {
            const container = document.getElementById('sidebar-context');
            let content = "";
            if (pageId === 'violence') {
                content = `<strong>Contexto Brasil:</strong> Segundo o Ipea (Atlas da Violência), custos relacionados à segurança equivalem a 5,9% do PIB nacional.`;
            } else if (pageId === 'education') {
                content = `<strong>Dados OCDE:</strong> O Brasil possui um dos maiores "prêmios salariais" por diploma do mundo (+144% sobre ensino médio).`;
            } else if (pageId === 'environment') {
                content = `<strong>Custo Social (SCC):</strong> A EPA estima o custo social do carbono em ~US$ 185/ton para decisões políticas atuais.`;
            } else if (pageId === 'health') {
                content = `<strong>Elasticidade:</strong> Estudos como o RAND Experiment indicam elasticidade-preço da saúde próxima a -0.2 (inelástica).`;
            } else if (pageId === 'culture') {
                content = `<strong>Inflação de Serviços:</strong> Enquanto bens duráveis barateiam, serviços (educação, saúde) tendem a inflacionar acima do CPI.`;
            } else if (pageId === 'ai') {
                content = `<strong>Teoria:</strong> Acemoglu & Restrepo (2019) alertam para a "so-so automation" que reduz salários sem grandes ganhos de PIB.`;
            } else {
                content = `Selecione um modelo no menu para visualizar os parâmetros e referências teóricas.`;
            }
            container.innerHTML = content;
        }

        // --- CHART CONFIGURATION ---
        Chart.defaults.font.family = "'Inter', sans-serif";
        Chart.defaults.color = '#64748b';
        Chart.defaults.scale.grid.color = '#f1f5f9';
        Chart.defaults.scale.grid.drawBorder = false;
        Chart.defaults.plugins.tooltip.backgroundColor = 'rgba(15, 23, 42, 0.9)';
        Chart.defaults.plugins.tooltip.padding = 10;
        Chart.defaults.plugins.tooltip.cornerRadius = 4;

        // 1. Violence Chart
        const ctxViol = document.getElementById('violenceChart').getContext('2d');
        const chartViol = new Chart(ctxViol, { type: 'line', data: { labels: ['20', '30', '40', '50', '60', '70', '80'], datasets: [{ label: 'Renda Disponível', data: [], borderColor: '#cbd5e1', borderDash: [4,4], borderWidth: 2, pointRadius: 0 }, { label: 'Consumo Real', data: [], borderColor: '#b91c1c', backgroundColor: 'rgba(185, 28, 28, 0.05)', fill: true, borderWidth: 2, pointRadius: 3 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top', align: 'end', labels: { usePointStyle: true, boxWidth: 6 } } }, scales: { x: { grid: { display: false } } } } });

        function updateViolence() {
            const v = parseInt(document.getElementById('viol-slider').value);
            const y = parseInt(document.getElementById('viol-income-slider').value);
            document.getElementById('viol-income-val').innerText = `R$ ${y.toLocaleString('pt-BR')}`;
            document.getElementById('viol-val').innerText = v < 30 ? "Baixo" : (v < 70 ? "Moderado" : "Crítico");
            const impatience = 0.3 + (v / 100) * 0.65; 
            let incomeData = [], consData = [], totalSavings = 0;
            for(let age=20; age<=80; age+=5) {
                let inc = y * (-0.0008 * Math.pow(age - 50, 2) + 1);
                let cons = (inc * impatience) + (inc * 0.85 * (1-impatience)); 
                if (cons > inc) cons = inc; 
                incomeData.push(inc);
                consData.push(cons);
                totalSavings += (inc - cons);
            }
            const welfareLoss = (v/100) * 5.9; 
            document.getElementById('viol-welfare').innerText = `-${welfareLoss.toFixed(1)}%`;
            const savingsEl = document.getElementById('viol-savings');
            if(totalSavings > 1000) { savingsEl.innerText = "Positiva"; savingsEl.className = "text-sm font-bold text-emerald-600"; } else { savingsEl.innerText = "Negativa / Nula"; savingsEl.className = "text-sm font-bold text-red-600"; }
            chartViol.data.datasets[0].data = incomeData; chartViol.data.datasets[1].data = consData; chartViol.update();
        }

        // 2. Education Chart
        const ctxEdu = document.getElementById('educationChart').getContext('2d');
        const chartEdu = new Chart(ctxEdu, { type: 'line', data: { labels: ['18', '25', '30', '35', '40', '45', '50', '55', '60', '65'], datasets: [{ label: 'Trajetória Salarial Estimada', data: [], borderColor: '#059669', backgroundColor: 'rgba(5, 150, 105, 0.05)', fill: true, borderWidth: 2, pointRadius: 3 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { grid: { display: false } } } } });

        function updateEducation() {
            const S = parseInt(document.getElementById('edu-s-slider').value); 
            const rho = parseInt(document.getElementById('edu-rho-slider').value) / 100; 
            const w0 = 1200; 
            document.getElementById('edu-s-val').innerText = `${S} anos`;
            document.getElementById('edu-rho-val').innerText = `${(rho*100).toFixed(0)}%`;
            let salaryData = [], ages = [18, 25, 30, 35, 40, 45, 50, 55, 60, 65], peakSalary = 0;
            ages.forEach(age => {
                let X = Math.max(0, age - S - 6);
                let logW = Math.log(w0) + (rho * S) + (0.05 * X) - (0.0008 * Math.pow(X, 2));
                let w = Math.exp(logW);
                if (age < (S + 6)) w = 0;
                if (age === 50) peakSalary = w;
                salaryData.push(w);
            });
            document.getElementById('edu-peak-salary').innerText = `R$ ${Math.round(peakSalary).toLocaleString('pt-BR')}`;
            chartEdu.data.datasets[0].data = salaryData; chartEdu.update();
        }

        // 3. Environment Chart
        const ctxEnv = document.getElementById('envChart').getContext('2d');
        const chartEnv = new Chart(ctxEnv, { type: 'line', data: { labels: ['0', '20', '40', '60', '80', '100', '120'], datasets: [{ label: 'Custo Social (Ideal)', data: [], borderColor: '#ef4444', borderWidth: 2, borderDash: [4,4], pointRadius: 0 }, { label: 'Custo Privado (Firma)', data: [], borderColor: '#0d9488', borderWidth: 2 }, { label: 'Demanda', data: [], borderColor: '#3b82f6', borderWidth: 2 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } }, scales: { x: { grid: { display: false } } } } });

        function updateEnvironment() {
            const t = parseInt(document.getElementById('env-tax-slider').value);
            const damage = parseInt(document.getElementById('env-damage-slider').value);
            document.getElementById('env-tax-val').innerText = `R$ ${t}`;
            document.getElementById('env-damage-val').innerText = `R$ ${damage}`;
            let demandData = [], socialCostData = [], taxedCostData = [];
            [0, 20, 40, 60, 80, 100, 120].forEach(q => { demandData.push(150 - q); socialCostData.push(10 + q + damage); taxedCostData.push(10 + q + t); });
            let q_eq = Math.max(0, (140 - t) / 2);
            let q_opt = Math.max(0, (140 - damage) / 2);
            let diff = Math.abs(q_eq - q_opt);
            const statusEl = document.getElementById('env-status'); const descEl = document.getElementById('env-status-desc');
            if (diff < 2) { statusEl.innerText = "Eficiência de Pareto"; statusEl.className = "text-lg font-bold text-emerald-600 mt-1"; descEl.innerText = "Internalização completa da externalidade."; } else if (q_eq > q_opt) { statusEl.innerText = "Peso Morto (Excesso)"; statusEl.className = "text-lg font-bold text-amber-600 mt-1"; descEl.innerText = "Imposto insuficiente, poluição acima do ótimo."; } else { statusEl.innerText = "Subprodução"; statusEl.className = "text-lg font-bold text-blue-600 mt-1"; descEl.innerText = "Imposto excessivo, prejudicando o bem-estar."; }
            chartEnv.data.datasets[0].data = socialCostData; chartEnv.data.datasets[1].data = taxedCostData; chartEnv.data.datasets[2].data = demandData; chartEnv.update();
        }

        // 4. Health Chart
        const ctxHealth = document.getElementById('healthChart').getContext('2d');
        const chartHealth = new Chart(ctxHealth, { type: 'line', data: { labels: Array.from({length: 100}, (_, i) => i), datasets: [{ label: 'Benefício Marginal (MEC)', data: [], borderColor: '#0891b2', borderWidth: 2 }, { label: 'Custo (Juros + Depr.)', data: [], borderColor: '#ef4444', borderWidth: 2, borderDash: [4,4], pointRadius: 0 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } }, scales: { x: { display: false } } } });

        function updateHealth() {
            const wage = parseInt(document.getElementById('health-wage-slider').value);
            const age = parseInt(document.getElementById('health-age-slider').value);
            document.getElementById('health-wage-val').innerText = wage > 70 ? "Alto" : (wage > 30 ? "Médio" : "Baixo");
            document.getElementById('health-age-val').innerText = `${age} anos`;
            const userCost = 5 + (1 + Math.pow((age - 20) / 70, 2) * 15);
            let mecData = [], costData = [], optimalHealth = 0, minDiff = 999;
            for(let h = 1; h <= 100; h++) { let mec = (wage * 15) * Math.pow(h, -0.6); if(mec > 100) mec = 100; mecData.push(mec); costData.push(userCost); if (Math.abs(mec - userCost) < minDiff) { minDiff = Math.abs(mec - userCost); optimalHealth = h; } }
            document.getElementById('health-optimal').innerText = optimalHealth;
            chartHealth.data.datasets[0].data = mecData; chartHealth.data.datasets[1].data = costData; chartHealth.update();
        }

        // 5. Culture Chart
        const ctxCulture = document.getElementById('cultureChart').getContext('2d');
        const chartCulture = new Chart(ctxCulture, { type: 'line', data: { labels: Array.from({length: 50}, (_, i) => i), datasets: [{ label: 'Gap de Custo Relativo', data: [], borderColor: '#7c3aed', borderWidth: 2, yAxisID: 'y' }, { label: 'Demanda (Q)', data: [], borderColor: '#cbd5e1', borderWidth: 2, borderDash: [2,2], yAxisID: 'y1', pointRadius: 0 }] }, options: { responsive: true, maintainAspectRatio: false, scales: { y: { display: false }, y1: { display: false, position: 'right' }, x: { display: false } } } });

        function updateCulture() {
            const prod = parseFloat(document.getElementById('cult-prod-slider').value) / 100;
            const elast = parseFloat(document.getElementById('cult-elast-slider').value);
            document.getElementById('cult-prod-val').innerText = `${(prod*100).toFixed(1)}%`;
            document.getElementById('cult-elast-val').innerText = elast.toFixed(1);
            let gapData = [], demData = [];
            for(let t=0; t<50; t++) { let gap = Math.pow(1+prod, t); gapData.push(gap); demData.push(100 * Math.pow(gap, -elast)); }
            const finalGap = gapData[49]; const finalDem = demData[49];
            document.getElementById('cult-gap').innerText = `${finalGap.toFixed(1)}x`;
            const revenue = finalGap * finalDem; const revEl = document.getElementById('cult-revenue');
            if (revenue > 120) { revEl.innerText = "Receita Crescente (Bem de Luxo)"; revEl.className = "text-xs font-bold text-emerald-600 mt-2"; } else if (revenue < 80) { revEl.innerText = "Colapso de Receita"; revEl.className = "text-xs font-bold text-red-600 mt-2"; } else { revEl.innerText = "Receita Estável (Lei de Baumol)"; revEl.className = "text-xs font-bold text-slate-500 mt-2"; }
            chartCulture.data.datasets[0].data = gapData; chartCulture.data.datasets[1].data = demData; chartCulture.update();
        }

        // 6. AI Chart
        const ctxAI = document.getElementById('aiChart').getContext('2d');
        const chartAI = new Chart(ctxAI, { type: 'line', data: { labels: Array.from({length: 21}, (_, i) => i), datasets: [{ label: 'Cenário Base', data: [], borderColor: '#cbd5e1', borderDash: [4,4], borderWidth: 2, pointRadius: 0 }, { label: 'Cenário com IA', data: [], borderColor: '#d97706', borderWidth: 2, backgroundColor: 'rgba(217, 119, 6, 0.05)', fill: true, pointRadius: 3 }] }, options: { responsive: true, maintainAspectRatio: false, scales: { y: { display: false }, x: { display: false } } } });

        function updateAI() {
            const auto = parseInt(document.getElementById('ai-auto-slider').value);
            const prod = parseInt(document.getElementById('ai-prod-slider').value);
            document.getElementById('ai-auto-val').innerText = auto > 60 ? "Alta" : "Baixa";
            document.getElementById('ai-prod-val').innerText = prod > 60 ? "Alto" : "Baixo";
            let base = [], ai = [], curB = 100, curA = 100;
            const growth = 0.015; const disp = (auto/100)*0.025; const gain = (prod/100)*0.035;
            for(let t=0; t<=20; t++) { base.push(curB); ai.push(curA); curB *= (1+growth); curA *= (1 + growth - disp + gain); }
            const diff = ai[20] - base[20]; const resEl = document.getElementById('ai-result');
            if(diff > 2) { resEl.innerText = `+${diff.toFixed(1)}%`; resEl.className = "text-2xl font-serif font-bold text-emerald-600 mt-2"; } else if (diff < -2) { resEl.innerText = `${diff.toFixed(1)}%`; resEl.className = "text-2xl font-serif font-bold text-red-600 mt-2"; } else { resEl.innerText = "Neutro"; resEl.className = "text-2xl font-serif font-bold text-slate-500 mt-2"; }
            chartAI.data.datasets[0].data = base; chartAI.data.datasets[1].data = ai; chartAI.update();
        }

        document.getElementById('viol-slider').oninput = updateViolence;
        document.getElementById('viol-income-slider').oninput = updateViolence;
        document.getElementById('edu-s-slider').oninput = updateEducation;
        document.getElementById('edu-rho-slider').oninput = updateEducation;
        document.getElementById('env-tax-slider').oninput = updateEnvironment;
        document.getElementById('env-damage-slider').oninput = updateEnvironment;
        document.getElementById('health-wage-slider').oninput = updateHealth;
        document.getElementById('health-age-slider').oninput = updateHealth;
        document.getElementById('cult-prod-slider').oninput = updateCulture;
        document.getElementById('cult-elast-slider').oninput = updateCulture;
        document.getElementById('ai-auto-slider').oninput = updateAI;
        document.getElementById('ai-prod-slider').oninput = updateAI;

        window.addEventListener('load', () => {
            updateViolence(); updateEducation(); updateEnvironment(); updateHealth(); updateCulture(); updateAI();
            updateSidebarContext('home');
        });
    </script>
</body>
</html>
